wkhomeControllers.controller("countResearchAreas",["$routeParams","$scope","globalData","sparqlQuery","searchData","$window",function(a,e,r,o,t,c){e.ifClick=function(e){t.researchArea=e,c.location.hash="/"+a.lang+"/cloud/group-by"};var l=r.PREFIX+' CONSTRUCT {      ?uriArea a uc:ResearchArea.      ?uriArea uc:name ?keyword;                  uc:total ?total } WHERE {       SELECT  ?keyword (IRI(REPLACE(?keyword, " ", "_", "i")) as ?uriArea) ?total      WHERE {          {              SELECT DISTINCT ?keyword (COUNT(DISTINCT ?s) AS ?total)              WHERE {                  GRAPH <'+r.centralGraph+'> {                      ?s foaf:publications ?publications.                      ?publications dcterms:subject ?keywordSubject.                      ?keywordSubject rdfs:label ?keyword.                  }               }               GROUP BY ?keyword               ORDER BY DESC(?total)               LIMIT 10          }          FILTER(!REGEX(?keyword,"TESIS"))      } }';o.querySrv({query:l},function(a){jsonld.compact(a,r.CONTEXT,function(a,r){var o=r["@graph"],t=[];o.forEach(function(a){var e=a["uc:name"],r=a["uc:total"].length>1?a["uc:total"][0]["@value"]:a["uc:total"]["@value"];t.push({label:e,value:r})}),e.$apply(function(){e.data={entityName:"Researchers",data:t}})})})}]);