wkhomeControllers.controller("barChart",["$scope","globalData","sparqlQuery","clustersQuery","searchData","$route","$window",function(a,o,t,n,u,r){var e=[],c=o.PREFIX+"CONSTRUCT {?provenance uc:totalPublications ?totalPub;uc:totalAuthors ?totalAuthors;uc:name ?name.}   WHERE { {SELECT DISTINCT ?provenance (SAMPLE(?ies) as ?name) (count(DISTINCT ?author) as ?totalAuthors) (COUNT(DISTINCT ?publications) as ?totalPub) WHERE {GRAPH <"+o.centralGraph+"> {?author a foaf:Person.?author dct:provenance ?provenance.?author foaf:publications ?publications.GRAPH <"+o.endpointsGraph+"> {?provenance uc:name ?ies.}}    } GROUP BY ?provenance ORDER BY DESC(?totalAuthors)}}";t.query({query:c},function(t){jsonld.compact(t,o.CONTEXT,function(o,t){var n=t["@graph"];n&&(_.map(n,function(a){var o=(a["@id"],a["uc:name"]),t=a["uc:totalAuthors"]["@value"],n=a["uc:totalPublications"]["@value"];e.push({Source:o,freq:{Autores:t,Publicaciones:n,Salud:0}})}),a.$apply(function(){a.data=e}))})})}]);