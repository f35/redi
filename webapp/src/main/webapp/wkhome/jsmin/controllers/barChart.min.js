wkhomeControllers.controller("barChart",["$scope","globalData","sparqlQuery","clustersQuery","searchData","$route","$window",function(a,o,n,t,r,e){var c=[],u=o.PREFIX+" CONSTRUCT  {       ?prov uc:total ?totalp.     ?prov uc:name ?sname. }  WHERE { {     SELECT DISTINCT (SAMPLE(?provenance)  as ?prov) (SAMPLE(?sourcename)  as ?sname)  (count(DISTINCT ?pub) as ?totalp)         WHERE {             GRAPH <"+o.centralGraph+"> {                 ?s a foaf:Person.                 ?s foaf:publications ?pub.                 ?s dct:provenance ?provenance.                      {                      SELECT *                      WHERE                      {                          graph <"+o.endpointsGraph+">                          {            \t\t\t?provenance uc:name ?sourcename                          }                      }                  }              }         }group by ?provenance  }  }";n.query({query:u},function(t){jsonld.compact(t,o.CONTEXT,function(t,r){var e=r["@graph"];e&&_.map(e,function(t){var r=t["@id"],e=t["uc:name"],u=t["uc:total"]["@value"],p=o.PREFIX+" CONSTRUCT  {  <"+r+"> uc:total ?totalAuthors. }  WHERE { {     SELECT DISTINCT (count(DISTINCT ?s) as ?totalAuthors)     WHERE {         GRAPH <"+o.centralGraph+"> {             ?s foaf:publications ?pub.             ?s dct:provenance <"+r+">.        }     }   }  } ";n.query({query:p},function(n){jsonld.compact(n,o.CONTEXT,function(o,n){var t=n["@graph"][0],r=t["uc:total"]["@value"];t["@id"];c.push({Source:e,freq:{Autores:r,Publicaciones:u,Salud:0}}),a.$apply(function(){a.data=c})})})})})})}]);
